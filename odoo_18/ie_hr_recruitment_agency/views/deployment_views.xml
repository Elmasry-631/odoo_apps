<odoo>
    <!-- list View -->
    <record id="view_recruitment_deployment_list" model="ir.ui.view">
        <field name="name">recruitment.deployment.list</field>
        <field name="model">hr.recruitment.deployment</field>
        <field name="arch" type="xml">
            <list>
                <field name="worker_id"/>
                <field name="client_id"/>
                <field name="job_order_id"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="status"/>
            </list>
        </field>
    </record>

    <!-- Form View -->
    <record id="view_recruitment_deployment_form" model="ir.ui.view">
        <field name="name">recruitment.deployment.form</field>
        <field name="model">hr.recruitment.deployment</field>
        <field name="arch" type="xml">
            <form string="Worker Deployment">

            <header>
                <button name="action_set_draft" string="Set Draft" type="object" class="btn-secondary" status="active,leave,completed"/>
                <button name="action_set_active" string="Activate" type="object" class="btn-success" status="draft,leave"/>
                <button name="action_set_leave" string="Set On Leave" type="object" class="btn-warning" status="active"/>
                <button name="action_set_completed" string="Complete" type="object" class="btn-danger" status="active,leave"/>

                <!-- زر إنشاء فاتورة -->
                <button name="action_create_invoice"
                        string="Create Invoice"
                        type="object"
                        class="btn-primary"
                />


                <!-- رابط الفاتورة -->
                <field name="invoice_id" context="{'form_view_ref': 'account.view_move_form'}"
                       widget="many2one" readonly="1"
                       invisible = "invoice_id == 'False'"/>

                <field name="status" widget="statusbar" statusbar_visible="draft,active,leave,completed"/>
            </header>

                <sheet>

                    <group>
                        <field name="worker_id"/>
                        <field name="client_id"/>
                        <field name="job_order_id"/>
                        <field name="start_date"/>
                        <field name="end_date"/>
                        <field name="notes"/>
                    </group>
                </sheet>
                <chatter/>
            </form>
        </field>
    </record>

    <!-- Calendar View -->
    <record id="view_recruitment_deployment_calendar" model="ir.ui.view">
        <field name="name">recruitment.deployment.calendar</field>
        <field name="model">hr.recruitment.deployment</field>
        <field name="arch" type="xml">
            <calendar string="Worker Deployments" date_start="start_date" date_stop="end_date" color="status">
                <field name="worker_id"/>
                <field name="client_id"/>
            </calendar>
        </field>
    </record>

    <!-- Menu & Action -->
    <record id="action_recruitment_deployment" model="ir.actions.act_window">
        <field name="name">Deployments</field>
        <field name="res_model">hr.recruitment.deployment</field>
        <field name="view_mode">list,form,calendar</field>
    </record>
    <menuitem id="menu_hr_recruitment_deployments"
              name="Deployments"
              parent="menu_hr_recruitment_agency_root"
              action="action_recruitment_deployment"/>

</odoo>
